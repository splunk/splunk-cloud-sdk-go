splunk-cloud-sdk-go:
  build:
    dockerfile: ci/Dockerfile
    image: splunk/splunk-cloud-sdk-go
  encrypted_env_file: ci/env.encrypted

splunk-cloud-sdk-shared-token-fetcher:
  image: cloudrepo-docker-playground.jfrog.io/sdk/shared/token-fetcher:latest
  encrypted_env_file: ci/env.encrypted
  volumes:
    - ./okta:/okta

splunk-cloud-sdk-go-with-stubby:
  build:
    image: splunk/splunk-cloud-sdk-go-with-stubby
    dockerfile: ci/Dockerfile
  encrypted_env_file: ci/env.encrypted
  depends_on:
    - splunk-cloud-sdk-shared-stubby

splunk-cloud-sdk-go-whitesource:
  depends_on:
    - splunk-cloud-sdk-go
  encrypted_env_file: ci/env.encrypted
  image: cloudrepo-docker-playground.jfrog.io/sdk/shared/whitesource:latest
  volumes_from:
    - splunk-cloud-sdk-go

splunk-cloud-sdk-go-integration:
  build:
    image: splunk/splunk-cloud-sdk-go-integration
    dockerfile: ci/Dockerfile
  encrypted_env_file: ci/env.encrypted
  volumes_from:
    - splunk-cloud-sdk-shared-token-fetcher
  depends_on:
    - splunk-cloud-sdk-shared-token-fetcher

splunk-cloud-sdk-shared-stubby:
  image: cloudrepo-docker-playground.jfrog.io/sdk/shared/stubby:latest

splunk-cloud-codegen:
  image: cloudrepo-docker-playground.jfrog.io/sdk/codegen:latest
  encrypted_dockercfg_path: ci/dockercfg.encrypted